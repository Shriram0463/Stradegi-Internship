<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Streaming</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif, sans-serif; /* Change the font to Arial or any preferred sans-serif font */
        }
        pre {
            white-space: pre-wrap; /* Ensure lines break correctly */
            font-family: inherit; /* Inherit font from body */
        }
    </style>
    <script>
        var evtSource = new EventSource("/stream-letters");

        evtSource.onmessage = function(event) {
            var outputElement = document.getElementById("output");

            // Handle spaces and display correctly
            if (event.data === " ") {
                outputElement.textContent += " ";
            } else {
                outputElement.textContent += event.data;
            }

            // Scroll to the bottom to see new content as it streams
            outputElement.scrollTop = outputElement.scrollHeight;
        };

        evtSource.onerror = function(error) {
            console.error("EventSource failed:", error);
            evtSource.close();
        };
    </script>
</head>
<body>
    <pre id="output"></pre>
</body>
</html>
